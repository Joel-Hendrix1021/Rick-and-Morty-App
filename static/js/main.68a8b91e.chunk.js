(this["webpackJsonprick-and-morty-app"]=this["webpackJsonprick-and-morty-app"]||[]).push([[0],{29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(20),a=c.n(s),i=(c(29),c(30),c(8)),j=c(2),o=c(7),h=(c(31),c(1)),u=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],r=t[1],s=Object(j.f)();return Object(h.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),s.push("/search/".concat(c))},children:[Object(h.jsx)("input",{name:"name",type:"text",onChange:function(e){return r(e.target.value)}}),Object(h.jsx)("button",{children:Object(h.jsx)("img",{src:"/assets/loupe.svg",alt:""})})]})},l=(c(38),function(){return Object(h.jsxs)("header",{className:"header",children:[Object(h.jsx)(i.b,{to:"/",className:"header__title",children:"Rick and Morty App "}),Object(h.jsx)(u,{}),Object(h.jsxs)(i.b,{className:"header__fav",to:"/favs",children:["Favorite ",Object(h.jsx)("img",{src:"/assets/favWhite.svg",alt:"favorito"})]})]})}),b=c(13),d=function(){var e=window.localStorage.getItem("likes"),t=Object(n.useState)(e?e.split(",").map((function(e){return Number(e)})):[]),c=Object(o.a)(t,2),r=c[0],s=c[1];return window.localStorage.setItem("likes",r),{likes:r,handleFavs:function(e){r.includes(e)?s((function(t){return t.filter((function(t){return t!==e}))})):s((function(t){return[].concat(Object(b.a)(t),[e])}))}}},x=function(e){var t=e.character,c=d(),n=c.likes,r=c.handleFavs;return Object(h.jsxs)("div",{className:"container__img",children:[Object(h.jsx)(i.b,{to:"/profile/".concat(t.id),children:Object(h.jsx)("img",{className:"img",src:t.image,alt:t.image})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:t.name}),Object(h.jsx)("button",{onClick:function(){return r(t.id)},className:"btn__fav",children:n.includes(t.id)?Object(h.jsx)("img",{src:"/assets/favWhite.svg",alt:"favorto.svg"}):Object(h.jsx)("img",{src:"/assets/fav.svg",alt:"favorto.svg"})})]})]},t.id)},O=(c(39),function(e){var t=e.characters;return console.log(t),Object(h.jsx)(h.Fragment,{children:t.length>1&&t.map((function(e){return Object(h.jsx)(x,{character:e},e.id)}))})}),f=c(17),g=c.n(f),p=c(23),m=function(e){var t=Object(n.useState)([]),c=Object(o.a)(t,2),r=c[0],s=c[1],a=Object(n.useState)(!0),i=Object(o.a)(a,2),j=i[0],h=i[1];Object(n.useEffect)((function(){h(!0),u().then((function(e){return s(e)})).finally((function(e){return h(!1)}))}),[e]);var u=function(){var t=Object(p.a)(g.a.mark((function t(){var c,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return c=t.sent,t.next=5,c.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{characters:r,setCharacters:s,isLoading:j}},v=(c(41),c(42),function(){return Object(h.jsx)("div",{className:"lds-dual-ring spiner"})});var y=function(e){var t=e.handleFavs,c=e.likes,r=Object(n.useState)(1),s=Object(o.a)(r,2),a=s[0],i=s[1],j=Object(n.useRef)(null),u=m("".concat("https://rickandmortyapi.com/api/character?page=").concat(a)),l=u.characters,d=u.isLoading,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;console.log(e);var t=Object(n.useState)([]),c=Object(o.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){var t=new IntersectionObserver((function(e){return s(e[0])}),{rootMargin:"10px"});return e.current&&t.observe(e.current),function(){e.current&&t.unobserve(e.current)}}),[e?e.current:null]),{entries:r}}(j),f=x.entries,g=Object(n.useState)([]),p=Object(o.a)(g,2),y=p[0],w=p[1],k=[];return Object(n.useEffect)((function(){f.isIntersecting&&i(a+1)}),[f.isIntersecting]),Object(n.useEffect)((function(){l.results&&(l.results.map((function(e){return k.push(e)})),w([].concat(Object(b.a)(y),k)))}),[l]),Object(h.jsxs)(h.Fragment,{children:[!y.length>0?Object(h.jsx)("div",{className:"container-loading",children:Object(h.jsx)(v,{})}):Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(O,{likes:c,characters:y,handleFavs:t})}),d&&Object(h.jsx)(v,{}),Object(h.jsx)("div",{ref:j})]})},w=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y,{})})},k=function(){var e=Object(j.g)().keyword,t=m("".concat("https://rickandmortyapi.com/api/character/?name=").concat(e)),c=t.characters,n=t.isLoading;return Object(h.jsx)(h.Fragment,{children:n?Object(h.jsx)(v,{}):Object(h.jsx)("div",{className:"container",children:c.results&&Object(h.jsx)(O,{characters:c.results})})})},N=c(18),_=c(24),F=function(e){return Object(h.jsxs)(_.a,Object(N.a)(Object(N.a)({width:600,height:300,viewBox:"0 0 700 300",backgroundColor:"#3C3E44",foregroundColor:"#202329"},e),{},{children:[Object(h.jsx)("rect",{x:"4",y:"8",rx:"3",ry:"3",width:"7",height:"288"}),Object(h.jsx)("rect",{x:"6",y:"289",rx:"3",ry:"3",width:"669",height:"8"}),Object(h.jsx)("rect",{x:"670",y:"9",rx:"3",ry:"3",width:"6",height:"285"}),Object(h.jsx)("rect",{x:"55",y:"42",rx:"16",ry:"16",width:"274",height:"216"}),Object(h.jsx)("rect",{x:"412",y:"113",rx:"3",ry:"3",width:"102",height:"7"}),Object(h.jsx)("rect",{x:"402",y:"91",rx:"3",ry:"3",width:"178",height:"6"}),Object(h.jsx)("rect",{x:"405",y:"139",rx:"3",ry:"3",width:"178",height:"6"}),Object(h.jsx)("rect",{x:"416",y:"162",rx:"3",ry:"3",width:"102",height:"7"}),Object(h.jsx)("rect",{x:"405",y:"189",rx:"3",ry:"3",width:"178",height:"6"}),Object(h.jsx)("rect",{x:"5",y:"8",rx:"3",ry:"3",width:"669",height:"7"}),Object(h.jsx)("rect",{x:"406",y:"223",rx:"14",ry:"14",width:"72",height:"32"}),Object(h.jsx)("rect",{x:"505",y:"224",rx:"14",ry:"14",width:"72",height:"32"}),Object(h.jsx)("rect",{x:"376",y:"41",rx:"3",ry:"3",width:"231",height:"29"})]}))},S=(c(43),function(){var e=Object(j.g)().id,t=m("".concat("https://rickandmortyapi.com/api/character","/").concat(e)),c=t.characters,n=t.isLoading;return Object(h.jsx)(h.Fragment,{children:n?Object(h.jsx)(F,{}):Object(h.jsxs)("div",{className:"container__profile",children:[Object(h.jsx)("img",{src:c.image,alt:""}),Object(h.jsxs)("div",{className:"profile__description",children:[Object(h.jsx)("p",{className:"profile__name",children:c.name}),Object(h.jsx)("p",{children:c.gender}),Object(h.jsxs)("div",{className:"profile__status",children:[Object(h.jsx)("p",{children:c.species}),Object(h.jsx)("p",{children:"-"}),c.status&&Object(h.jsx)("p",{children:c.status})]}),Object(h.jsx)("p",{className:"profile__location",children:"Last known location:"}),c.location&&Object(h.jsx)("p",{children:c.location.name})]})]},e)})}),C=(c(44),function(){var e=d(),t=e.likes,c=e.handleFavs,n=m("".concat("https://rickandmortyapi.com/api/character/").concat(t)),r=n.characters,s=n.isLoading;return console.log(s),Object(h.jsx)(h.Fragment,{children:s?Object(h.jsx)(v,{}):Object(h.jsx)("div",{className:"container favs",children:Object(h.jsx)(O,{characters:r,likes:t,handleFavs:c})})})});var L=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(i.a,{basename:"/Rick-and-Morty-App",children:[Object(h.jsx)(l,{}),Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.a,{path:"/profile/:id",children:Object(h.jsx)(S,{})}),Object(h.jsx)(j.a,{path:"/search/:keyword",children:Object(h.jsx)(k,{})}),Object(h.jsx)(j.a,{exact:!0,path:"/favs",children:Object(h.jsx)(C,{})}),Object(h.jsx)(j.a,{exact:!0,path:"/",children:Object(h.jsx)(w,{})})]})]})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),I()}},[[45,1,2]]]);
//# sourceMappingURL=main.68a8b91e.chunk.js.map